<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aurora Crypto Bot</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-900 via-indigo-800 to-purple-700 text-gray-100">
  <div class="max-w-3xl mx-auto p-6">
    <!-- Header -->
    <header class="flex items-center justify-center mb-8">
      <img src="https://jumeaux34.github.io/-aurora-webapp/logo.png" alt="Aurora Logo" class="h-14 mr-4">
      <h1 class="text-4xl font-extrabold">AuroraCryptoBot</h1>
    </header>

    <!-- Navigation Tabs -->
    <nav class="flex justify-around bg-white/10 backdrop-blur-sm rounded-2xl p-2 mb-6 shadow-lg">
      <button id="tab-wallet" class="px-4 py-2 rounded-lg hover:bg-white/20 transition-colors" data-tab="wallet">–ö–æ—à–µ–ª—ë–∫</button>
      <button id="tab-exchange" class="px-4 py-2 rounded-lg hover:bg-white/20 transition-colors" data-tab="exchange">–ë–∏—Ä–∂–∞</button>
      <button id="tab-p2p" class="px-4 py-2 rounded-lg hover:bg-white/20 transition-colors" data-tab="p2p">P2P</button>
      <button id="tab-account" class="px-4 py-2 rounded-lg hover:bg-white/20 transition-colors" data-tab="account">–ê–∫–∫–∞—É–Ω—Ç</button>
    </nav>

    <!-- Sections -->
    <section id="wallet" class="tab-content space-y-6">
      <!-- Balance Card -->
      <div class="bg-white/10 backdrop-blur-sm p-6 rounded-2xl shadow-md">
        <h2 class="text-2xl font-semibold mb-4">–ë–∞–ª–∞–Ω—Å</h2>
        <pre id="balance-list" class="whitespace-pre-wrap text-lg">–ó–∞–≥—Ä—É–∑–∫–∞...</pre>
      </div>
      <!-- Deposit Card -->
      <div class="bg-white/10 backdrop-blur-sm p-6 rounded-2xl shadow-md">
        <h2 class="text-2xl font-semibold mb-4">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</h2>
        <div class="space-y-4">
          <div>
            <label class="block mb-1">–û—Ñ–∏—Å:</label>
            <select id="deposit-office" class="w-full p-2 rounded-lg bg-gray-800 border border-gray-700">
              <option value="moscow">–ú–æ—Å–∫–≤–∞</option>
              <option value="spb">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
            </select>
          </div>
          <div>
            <label class="block mb-1">–°—É–º–º–∞:</label>
            <input type="number" id="deposit-amount" placeholder="1000" class="w-full p-2 rounded-lg bg-gray-800 border border-gray-700">
          </div>
          <button id="deposit-send" class="w-full py-3 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-lg text-xl font-bold hover:from-purple-600 hover:to-indigo-600 transition">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
        </div>
      </div>
      <!-- Withdraw Card -->
      <div class="bg-white/10 backdrop-blur-sm p-6 rounded-2xl shadow-md">
        <h2 class="text-2xl font-semibold mb-2">–í—ã–≤–æ–¥</h2>
        <p>–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.</p>
      </div>
    </section>

    <section id="exchange" class="tab-content hidden space-y-6">
      <!-- Rate Card -->
      <div class="bg-white/10 backdrop-blur-sm p-6 rounded-2xl shadow-md">
        <h2 class="text-2xl font-semibold mb-4">–ö—É—Ä—Å –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç</h2>
        <label class="block mb-2">–ú–æ–Ω–µ—Ç–∞ (ID CoinGecko):</label>
        <input type="text" id="rate-symbol" placeholder="bitcoin" class="w-full p-2 rounded-lg bg-gray-800 border border-gray-700 mb-4">
        <button id="rate-button" class="w-full py-2 bg-indigo-600 rounded-lg font-semibold hover:bg-indigo-700 transition">–£–∑–Ω–∞—Ç—å –∫—É—Ä—Å</button>
        <p id="rate-result" class="mt-4 text-lg"></p>
      </div>
      <!-- Exchange Card -->
      <div class="bg-white/10 backdrop-blur-sm p-6 rounded-2xl shadow-md">
        <h2 class="text-2xl font-semibold mb-4">–û–±–º–µ–Ω</h2>
        <div class="space-y-3">
          <div>
            <label>–ò–∑:</label>
            <input type="text" id="ex-from" placeholder="bitcoin" class="w-full p-2 rounded-lg bg-gray-800 border border-gray-700">
          </div>
          <div>
            <label>–í:</label>
            <input type="text" id="ex-to" placeholder="tether" class="w-full p-2 rounded-lg bg-gray-800 border border-gray-700">
          </div>
          <div>
            <label>–°—É–º–º–∞:</label>
            <input type="number" id="ex-amount" placeholder="0.5" class="w-full p-2 rounded-lg bg-gray-800 border border-gray-700">
          </div>
          <button id="ex-button" class="w-full py-2 bg-indigo-600 rounded-lg font-semibold hover:bg-indigo-700 transition">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –æ–±–º–µ–Ω</button>
          <p id="ex-result" class="mt-4 text-lg"></p>
        </div>
      </div>
    </section>

    <section id="p2p" class="tab-content hidden">
      <div class="bg-white/10 backdrop-blur-sm p-6 rounded-2xl shadow-md">
        <h2 class="text-2xl font-semibold mb-2">P2P-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞</h2>
        <p>–°–ø–∏—Å–æ–∫ –æ—Ñ—Ñ–µ—Ä–æ–≤ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.</p>
      </div>
    </section>

    <section id="account" class="tab-content hidden">
      <div class="bg-white/10 backdrop-blur-sm p-6 rounded-2xl shadow-md">
        <h2 class="text-2xl font-semibold mb-2">–ê–∫–∫–∞—É–Ω—Ç</h2>
        <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.</p>
      </div>
    </section>
  </div>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    // Tab navigation
    document.querySelectorAll('button[data-tab]').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.tab-content').forEach(sec => sec.classList.add('hidden'));
        document.querySelectorAll('button[data-tab]').forEach(b => b.classList.remove('bg-white/20'));
        const tab = btn.dataset.tab;
        document.getElementById(tab).classList.remove('hidden');
        btn.classList.add('bg-white/20');
      });
    });

    // Placeholder balance
    document.getElementById('balance-list').innerText = 'BTC: 0.00\nUSDT: 0.00';

    // Deposit via WebApp
    document.getElementById('deposit-send').onclick = () => {
      const office = document.getElementById('deposit-office').value;
      const amount = document.getElementById('deposit-amount').value;
      tg.sendData(JSON.stringify({ action: 'deposit', office, amount }));
    };

    // Rate
    document.getElementById('rate-button').onclick = async () => {
      const sym = document.getElementById('rate-symbol').value;
      const res = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${sym}&vs_currencies=usd`);
      const data = await res.json();
      document.getElementById('rate-result').innerText = data[sym]?.usd ? `üí∞ ${sym.toUpperCase()} = ${data[sym].usd} USD` : '–ú–æ–Ω–µ—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞';
    };

    // Exchange
    document.getElementById('ex-button').onclick = async () => {
      const f = document.getElementById('ex-from').value;
      const t = document.getElementById('ex-to').value;
      const a = parseFloat(document.getElementById('ex-amount').value);
      const p1 = await (await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${f}&vs_currencies=usd`)).json();
      const p2 = await (await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${t}&vs_currencies=usd`)).json();
      if(!p1[f]?.usd || !p2[t]?.usd) { document.getElementById('ex-result').innerText = '–û—à–∏–±–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤'; return; }
      const res = a * p1[f].usd / p2[t].usd;
      document.getElementById('ex-result').innerText = `${a} ${f.toUpperCase()} ‚âà ${res.toFixed(6)} ${t.toUpperCase()}`;
    };
  </script>
</body>
</html>
